---
permalink: countries/
layout: default
---

<main class="countries">
  <aside class="country-list">
    <ul>
      {% for country in site.country-list %}
      <li>{{country.title}}</li>
      {% endfor %}
    </ul>
  </aside>
  <section class="content">
    {% for country in site.country-list %}
    <div class="content-item" id="{{country.title}}">
      <h2>{{country.title}}</h2>
      {{country.content}}

      <div class="recent-posts">

        {% assign tag = country.title | downcase %}
        <h3>Recent post</h3>

        {% for post in site.tags[tag] %}
            <a href="{{post.title}}">{{post.title}}</a>
        {% endfor %}

      </div>
    </div>
    {% endfor %}
  </section>
</main>

<script>
  let aside = document.getElementsByTagName("aside");
  let anchors = aside[0].getElementsByTagName("li");
  let items = document.getElementsByClassName("content-item");

  let curr_item = items[0];
  curr_item.style.display = "block";

  Array.prototype.forEach.call(anchors, (anchor) => {
    anchor.onclick = function (even) {
      if (!even.hasOwnProperty(curr_item)) {
        curr_item.style.display = "none";
        curr_item = items[anchor.innerHTML];
        curr_item.style.display = "block";
      }
    };
  });
</script>
